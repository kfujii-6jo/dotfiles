---
description: 実装セッション開始 (user)
---

# 実装セッション開始

セッションごとにディレクトリを作成し、実装計画とやりとりの履歴をファイルで管理しながら作業を進めます。

## 手順

### 1. セッションディレクトリの作成

作業用ディレクトリを作成する:

```
tmp/<MMDD>_<feature-name>/
├── plan.md      # 実装計画
└── prompt.md    # ユーザーとのやりとり履歴
```

- `<MMDD>`: 今日の日付（例: 0123）
- `<feature-name>`: 機能名をケバブケースで（例: add-auth-flow）

### 2. 実装計画の作成（許可制）

**重要: コードの変更は許可を得るまで実施してはいけない**

1. `plan.md`に作業計画を作成する:
   - 目的・背景
   - 変更対象ファイル
   - 実装ステップ（番号付きリスト）
   - 影響範囲・リスク
   - テスト方針

2. ユーザーに計画を提示し、承認を求める

3. 許可が得られるまで、フィードバックを反映してプランを修正する

### 3. 作業の実施

許可後、以下のフローで作業を進める:

1. `plan.md`に記載されたステップに従って実装
2. ユーザーからの指示・フィードバックを`prompt.md`に追記
3. 各ステップ完了ごとに以下を実施:
   - テストの実行
   - 型チェック
   - フォーマット

### 4. prompt.mdの更新ルール

ユーザーから指示があるたびに`prompt.md`を更新:

```markdown
## YYYY-MM-DD HH:MM

### ユーザー指示
[ユーザーからの指示内容]

### 対応内容
[実施した作業の要約]

### 結果
[テスト結果、型チェック結果など]
```

## plan.mdテンプレート

```markdown
# 実装計画: <機能名>

## 目的
[この実装で達成したいこと]

## 背景
[なぜこの実装が必要か]

## 変更対象
- [ ] `path/to/file1.ts` - [変更内容]
- [ ] `path/to/file2.ts` - [変更内容]

## 実装ステップ
1. [ステップ1の説明]
2. [ステップ2の説明]
3. [ステップ3の説明]

## 影響範囲
- [影響を受けるコンポーネント・機能]

## リスク
- [潜在的なリスクと対策]

## テスト方針
- [どのようにテストするか]

## 承認状況
- [ ] 計画承認済み
```

## ガイドライン

- 許可なくコードを変更しない
- 計画は具体的かつ実行可能な粒度で記述する
- 作業中の変更は随時`prompt.md`に記録する
- テスト・型チェック・フォーマットは省略しない

$ARGUMENTS
