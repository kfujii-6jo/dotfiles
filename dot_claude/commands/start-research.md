---
description: 調査セッション開始 (user)
---

# 調査セッション開始

コードベースの調査・分析用のセッションを開始し、調査計画と発見事項をファイルで管理します。

## 手順

### 1. セッションディレクトリの作成

調査用ディレクトリを作成する:

```
tmp/<MMDD>_research-<topic>/
├── plan.md        # 調査計画
├── findings.md    # 発見事項・調査結果
└── prompt.md      # ユーザーとのやりとり履歴
```

- `<MMDD>`: 今日の日付（例: 0123）
- `<topic>`: 調査テーマをケバブケースで（例: auth-flow, api-structure）

### 2. 調査計画の作成

`plan.md`に調査計画を作成する:

1. 調査の目的・背景
2. 調査対象（ファイル、モジュール、機能）
3. 調査観点（What/Why/How）
4. 期待するアウトプット

### 3. 調査の実施

以下のフローで調査を進める:

1. `plan.md`に記載された計画に従って調査
2. 発見事項を随時`findings.md`に記録
3. ユーザーからの追加質問・指示を`prompt.md`に追記

### 4. findings.mdの更新ルール

発見事項を構造化して記録:

```markdown
## 調査対象: <ファイル/モジュール名>

### 概要
[何をしているか]

### 構造
[主要なクラス、関数、データフロー]

### 依存関係
[何に依存しているか、何から依存されているか]

### 注目点
[重要な実装詳細、設計判断、潜在的な問題]

### 関連ファイル
- `path/to/related.ts` - [関係性]
```

### 5. prompt.mdの更新ルール

ユーザーからの質問・指示を記録:

```markdown
## YYYY-MM-DD HH:MM

### 質問/指示
[ユーザーからの内容]

### 回答/対応
[調査結果の要約]
```

## plan.mdテンプレート

```markdown
# 調査計画: <テーマ>

## 目的
[この調査で明らかにしたいこと]

## 背景
[なぜこの調査が必要か]

## 調査対象
- [ ] `path/to/target1/` - [調査観点]
- [ ] `path/to/target2.ts` - [調査観点]

## 調査観点
- What: [何をしているか]
- Why: [なぜそうなっているか]
- How: [どのように動作するか]

## 期待するアウトプット
- [理解したい内容1]
- [理解したい内容2]
- [作成したいドキュメント等]

## 進捗
- [ ] 対象1の調査完了
- [ ] 対象2の調査完了
- [ ] findings.mdへの記録完了
```

## ガイドライン

- コードの変更は行わない（読み取り専用）
- 発見事項はその場で記録し、後回しにしない
- 仮説と事実を明確に区別する
- 関連ファイルへのリンクを含める

$ARGUMENTS
