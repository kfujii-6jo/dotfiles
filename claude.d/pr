#!/bin/bash
# claude.d/pr - PR review
# Uses dot_claude/commands/pr.md

set -euo pipefail

# Use argument as PR number if provided
if [[ $# -gt 0 ]]; then
    pr_number="$1"
    claude -p "/pr $pr_number"
else
    # Review current branch's PR if no arguments
    if ! gh pr view &>/dev/null; then
        echo "Error: No PR found for current branch"
        echo "Usage: claude.d/pr [PR_NUMBER]"
        exit 1
    fi
    claude -p "/pr"
fi
